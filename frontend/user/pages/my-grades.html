<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Grades - Student Dashboard</title>
    <link rel="stylesheet" href="/assets/css/style.css" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
  </head>
  <body class="student-dashboard">
    <header class="main-header">
      <div class="header-container">
        <div class="logo">
          <i class="fas fa-school"></i>
          <span>School Management System</span>
        </div>

        <nav class="main-nav">
          <ul>
            <li>
              <a href="student-dashboard.html"
                ><i class="fas fa-tachometer-alt"></i> Dashboard</a
              >
            </li>
            <li>
              <a href="my-grades.html" class="active"
                ><i class="fas fa-chart-line"></i> My Grades</a
              >
            </li>
            <li>
              <a href="my-attendance.html"
                ><i class="fas fa-calendar-check"></i> My Attendance</a
              >
            </li>
            <li>
              <a href="my-schedule.html"
                ><i class="fas fa-calendar-alt"></i> My Schedule</a
              >
            </li>
            <li>
              <a href="my-assignments.html"
                ><i class="fas fa-tasks"></i> My Assignments</a
              >
            </li>
          </ul>
        </nav>

        <div class="user-menu">
          <div class="user-info">
            <i class="fas fa-user-circle"></i>
            <span id="userName">Student</span>
          </div>
          <div class="dropdown-menu">
            <a href="profile.html"><i class="fas fa-user"></i> Profile</a>
            <a href="settings.html"><i class="fas fa-cog"></i> Settings</a>
            <a href="#" onclick="logout()"
              ><i class="fas fa-sign-out-alt"></i> Logout</a
            >
          </div>
        </div>
      </div>
    </header>

    <main class="main-content">
      <div class="page-header">
        <h1>My Grades</h1>
        <p>View your academic performance and grades</p>
      </div>

      <!-- Grade Statistics -->
      <div class="dashboard-cards">
        <div class="dashboard-card">
          <div class="card-header">
            <div class="card-title">Overall Average</div>
            <div class="card-icon" style="background: #667eea">
              <i class="fas fa-chart-line"></i>
            </div>
          </div>
          <div class="card-number" id="overallAverage">85.2%</div>
          <div class="card-description">This semester</div>
        </div>

        <div class="dashboard-card">
          <div class="card-header">
            <div class="card-title">Highest Grade</div>
            <div class="card-icon" style="background: #28a745">
              <i class="fas fa-trophy"></i>
            </div>
          </div>
          <div class="card-number" id="highestGrade">92%</div>
          <div class="card-description">Mathematics</div>
        </div>

        <div class="dashboard-card">
          <div class="card-header">
            <div class="card-title">Lowest Grade</div>
            <div class="card-icon" style="background: #dc3545">
              <i class="fas fa-exclamation-triangle"></i>
            </div>
          </div>
          <div class="card-number" id="lowestGrade">78%</div>
          <div class="card-description">Physics</div>
        </div>

        <div class="dashboard-card">
          <div class="card-header">
            <div class="card-title">Grade Rank</div>
            <div class="card-icon" style="background: #17a2b8">
              <i class="fas fa-medal"></i>
            </div>
          </div>
          <div class="card-number" id="gradeRank">5th</div>
          <div class="card-description">Out of 32 students</div>
        </div>
      </div>

      <!-- Subject Performance -->
      <div class="card">
        <div class="card-header">
          <h3>Subject Performance</h3>
          <div class="header-actions">
            <select id="semesterFilter" onchange="filterGrades()">
              <option value="current">Current Semester</option>
              <option value="previous">Previous Semester</option>
              <option value="all">All Time</option>
            </select>
          </div>
        </div>
        <div class="card-body">
          <div class="table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th>Subject</th>
                  <th>Teacher</th>
                  <th>Assignments</th>
                  <th>Quizzes</th>
                  <th>Exams</th>
                  <th>Average</th>
                  <th>Grade</th>
                  <th>Trend</th>
                </tr>
              </thead>
              <tbody id="gradesTableBody">
                <tr>
                  <td>
                    <div class="subject-info">
                      <strong>Mathematics</strong>
                      <small>Advanced Algebra & Calculus</small>
                    </div>
                  </td>
                  <td>Mr. Johnson</td>
                  <td>92%</td>
                  <td>88%</td>
                  <td>95%</td>
                  <td><span class="grade-badge excellent">92%</span></td>
                  <td><span class="letter-grade excellent">A</span></td>
                  <td><i class="fas fa-arrow-up text-success"></i></td>
                </tr>
                <tr>
                  <td>
                    <div class="subject-info">
                      <strong>English Literature</strong>
                      <small>Shakespeare & Modern Literature</small>
                    </div>
                  </td>
                  <td>Ms. Davis</td>
                  <td>85%</td>
                  <td>90%</td>
                  <td>87%</td>
                  <td><span class="grade-badge good">87%</span></td>
                  <td><span class="letter-grade good">B+</span></td>
                  <td><i class="fas fa-arrow-up text-success"></i></td>
                </tr>
                <tr>
                  <td>
                    <div class="subject-info">
                      <strong>Physics</strong>
                      <small>Mechanics & Thermodynamics</small>
                    </div>
                  </td>
                  <td>Dr. Wilson</td>
                  <td>75%</td>
                  <td>80%</td>
                  <td>78%</td>
                  <td><span class="grade-badge average">78%</span></td>
                  <td><span class="letter-grade average">C+</span></td>
                  <td><i class="fas fa-arrow-down text-danger"></i></td>
                </tr>
                <tr>
                  <td>
                    <div class="subject-info">
                      <strong>History</strong>
                      <small>World History & Civilizations</small>
                    </div>
                  </td>
                  <td>Mrs. Brown</td>
                  <td>88%</td>
                  <td>85%</td>
                  <td>90%</td>
                  <td><span class="grade-badge good">88%</span></td>
                  <td><span class="letter-grade good">B+</span></td>
                  <td><i class="fas fa-minus text-muted"></i></td>
                </tr>
                <tr>
                  <td>
                    <div class="subject-info">
                      <strong>Computer Science</strong>
                      <small>Programming & Algorithms</small>
                    </div>
                  </td>
                  <td>Mr. Chen</td>
                  <td>90%</td>
                  <td>92%</td>
                  <td>88%</td>
                  <td><span class="grade-badge excellent">90%</span></td>
                  <td><span class="letter-grade excellent">A-</span></td>
                  <td><i class="fas fa-arrow-up text-success"></i></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Grade Distribution Chart -->
      <div class="card">
        <div class="card-header">
          <h3>Grade Distribution</h3>
        </div>
        <div class="card-body">
          <div class="grade-distribution">
            <div class="grade-bar">
              <div class="grade-label">A (90-100)</div>
              <div class="grade-progress">
                <div
                  class="progress-fill"
                  style="width: 40%; background: #28a745"
                ></div>
              </div>
              <div class="grade-count">2 subjects</div>
            </div>
            <div class="grade-bar">
              <div class="grade-label">B (80-89)</div>
              <div class="grade-progress">
                <div
                  class="progress-fill"
                  style="width: 40%; background: #17a2b8"
                ></div>
              </div>
              <div class="grade-count">2 subjects</div>
            </div>
            <div class="grade-bar">
              <div class="grade-label">C (70-79)</div>
              <div class="grade-progress">
                <div
                  class="progress-fill"
                  style="width: 20%; background: #ffc107"
                ></div>
              </div>
              <div class="grade-count">1 subject</div>
            </div>
            <div class="grade-bar">
              <div class="grade-label">D (60-69)</div>
              <div class="grade-progress">
                <div
                  class="progress-fill"
                  style="width: 0%; background: #dc3545"
                ></div>
              </div>
              <div class="grade-count">0 subjects</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Recent Grade Updates -->
      <div class="card">
        <div class="card-header">
          <h3>Recent Grade Updates</h3>
        </div>
        <div class="card-body">
          <div class="grade-updates">
            <div class="grade-update">
              <div class="update-icon">
                <i class="fas fa-plus-circle text-success"></i>
              </div>
              <div class="update-content">
                <div class="update-title">Mathematics Quiz #3</div>
                <div class="update-details">Grade: 95% | Date: 2024-01-15</div>
              </div>
            </div>
            <div class="grade-update">
              <div class="update-icon">
                <i class="fas fa-minus-circle text-warning"></i>
              </div>
              <div class="update-content">
                <div class="update-title">Physics Assignment #2</div>
                <div class="update-details">Grade: 75% | Date: 2024-01-12</div>
              </div>
            </div>
            <div class="grade-update">
              <div class="update-icon">
                <i class="fas fa-plus-circle text-success"></i>
              </div>
              <div class="update-content">
                <div class="update-title">English Essay</div>
                <div class="update-details">Grade: 88% | Date: 2024-01-10</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script src="/assets/js/auth.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        loadGradeData();
      });

      function loadGradeData() {
        setTimeout(() => {
          document.getElementById("overallAverage").textContent = "85.2%";
          document.getElementById("highestGrade").textContent = "92%";
          document.getElementById("lowestGrade").textContent = "78%";
          document.getElementById("gradeRank").textContent = "5th";
        }, 1000);
      }

      function filterGrades() {
        const semester = document.getElementById("semesterFilter").value;
        console.log("Filtering grades by semester:", semester);
        // Implement filtering logic here
      }
    </script>

    <style>
      .subject-info {
        display: flex;
        flex-direction: column;
      }

      .subject-info small {
        color: #666;
        font-size: 0.85rem;
      }

      .grade-badge {
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 0.8rem;
        font-weight: 500;
      }

      .grade-badge.excellent {
        background: #d4edda;
        color: #155724;
      }

      .grade-badge.good {
        background: #cce5ff;
        color: #004085;
      }

      .grade-badge.average {
        background: #fff3cd;
        color: #856404;
      }

      .grade-badge.poor {
        background: #f8d7da;
        color: #721c24;
      }

      .letter-grade {
        padding: 6px 10px;
        border-radius: 50%;
        font-weight: bold;
        font-size: 0.9rem;
        min-width: 30px;
        text-align: center;
        display: inline-block;
      }

      .letter-grade.excellent {
        background: #28a745;
        color: white;
      }

      .letter-grade.good {
        background: #17a2b8;
        color: white;
      }

      .letter-grade.average {
        background: #ffc107;
        color: #212529;
      }

      .letter-grade.poor {
        background: #dc3545;
        color: white;
      }

      .text-success {
        color: #28a745;
      }

      .text-danger {
        color: #dc3545;
      }

      .text-muted {
        color: #6c757d;
      }

      .grade-distribution {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .grade-bar {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .grade-label {
        min-width: 100px;
        font-weight: 500;
      }

      .grade-progress {
        flex: 1;
        height: 20px;
        background: #f0f0f0;
        border-radius: 10px;
        overflow: hidden;
      }

      .progress-fill {
        height: 100%;
        transition: width 0.3s ease;
      }

      .grade-count {
        min-width: 80px;
        text-align: right;
        font-weight: 500;
      }

      .grade-updates {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      .grade-update {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem;
        background: #f8f9fa;
        border-radius: 8px;
        border-left: 4px solid #667eea;
      }

      .update-icon {
        font-size: 1.5rem;
      }

      .update-content {
        flex: 1;
      }

      .update-title {
        font-weight: 600;
        color: #333;
        margin-bottom: 0.25rem;
      }

      .update-details {
        color: #666;
        font-size: 0.9rem;
      }

      .header-actions select {
        padding: 8px 12px;
        border: 2px solid #e1e5e9;
        border-radius: 6px;
        font-size: 0.9rem;
        background: white;
        cursor: pointer;
      }

      .header-actions select:focus {
        outline: none;
        border-color: #667eea;
      }
    </style>
  </body>
</html>
